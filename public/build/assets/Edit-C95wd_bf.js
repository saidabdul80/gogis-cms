import{d as L,u as z,r as A,q as E,a as d,c as g,o as b,w as o,b as t,e as V,i as k,g as G,f as r,n as S,t as w}from"./app-BZ-g5Kzm.js";import{A as J}from"./AdminLayout-HZzqcoCE.js";import"./useTheme-BxRy3jmC.js";const T={class:"text-body-1"},j={class:"text-body-1"},W={class:"text-body-1"},Q=L({__name:"Edit",props:{invoice:{},properties:{}},setup(i){const c=i,a=z({amount:c.invoice.amount,due_date:c.invoice.due_date,description:c.invoice.description}),s=A(!1),m=A(c.invoice.due_date?new Date(c.invoice.due_date):null),v=E(()=>{if(!a.due_date)return"";const n=new Date(a.due_date),e=c.invoice.property.payment_frequency;return e==="monthly"?n.toLocaleDateString("en-US",{month:"long",year:"numeric"}):e==="yearly"?n.getFullYear().toString():n.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),$=n=>{if(n){const e=n.getFullYear(),f=String(n.getMonth()+1).padStart(2,"0"),_=String(n.getDate()).padStart(2,"0");a.due_date=`${e}-${f}-${_}`,s.value=!1}},C=n=>{if(n){const e=n.getFullYear(),f=String(n.getMonth()+1).padStart(2,"0");a.due_date=`${e}-${f}-01`,s.value=!1}},F=n=>{if(n){const e=n.getFullYear();a.due_date=`${e}-01-01`,s.value=!1}},M=n=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(n),I=()=>{a.put(route("admin.invoices.update",c.invoice.id),{preserveScroll:!0})};return(n,e)=>{const f=d("v-btn"),_=d("v-card-title"),p=d("v-text-field"),u=d("v-col"),D=d("v-date-picker"),x=d("v-menu"),Y=d("v-textarea"),U=d("v-row"),N=d("v-card-text"),q=d("v-card"),P=d("v-form"),B=d("v-container");return b(),g(J,null,{default:o(()=>[t(B,{fluid:""},{default:o(()=>[t(U,null,{default:o(()=>[t(u,{cols:"12"},{default:o(()=>[t(q,null,{default:o(()=>[t(_,{class:"d-flex justify-space-between align-center"},{default:o(()=>[e[18]||(e[18]=V("span",null,"Edit Invoice",-1)),t(f,{variant:"text","prepend-icon":"mdi-arrow-left",onClick:e[0]||(e[0]=l=>n.$inertia.visit(n.route("admin.invoices.index")))},{default:o(()=>[...e[17]||(e[17]=[k(" Back to Invoices ",-1)])]),_:1})]),_:1}),t(N,null,{default:o(()=>[t(P,{onSubmit:G(I,["prevent"])},{default:o(()=>[t(U,null,{default:o(()=>[t(u,{cols:"12",md:"6"},{default:o(()=>[t(p,{"model-value":i.invoice.invoice_number,label:"Invoice Number",variant:"outlined",density:"comfortable",readonly:"",disabled:""},null,8,["model-value"])]),_:1}),t(u,{cols:"12",md:"6"},{default:o(()=>[t(p,{"model-value":`${i.invoice.property.number_type}: ${i.invoice.property.number_value}`,label:"Property",variant:"outlined",density:"comfortable",readonly:"",disabled:""},null,8,["model-value"])]),_:1}),t(u,{cols:"12",md:"6"},{default:o(()=>[t(p,{modelValue:r(a).amount,"onUpdate:modelValue":e[1]||(e[1]=l=>r(a).amount=l),modelModifiers:{number:!0},label:"Amount (â‚¦) *",type:"number",step:"0.01",min:"0",variant:"outlined",density:"comfortable","error-messages":r(a).errors.amount},null,8,["modelValue","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:o(()=>[i.invoice.property.payment_frequency==="daily"?(b(),g(x,{key:0,modelValue:s.value,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value=l),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:o(({props:l})=>[t(p,S({modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=y=>v.value=y),label:"Due Date (Daily) *","prepend-inner-icon":"mdi-calendar",readonly:"",variant:"outlined",density:"comfortable"},l,{"error-messages":r(a).errors.due_date,hint:"Select specific date","persistent-hint":""}),null,16,["modelValue","error-messages"])]),default:o(()=>[t(D,{modelValue:m.value,"onUpdate:modelValue":[e[3]||(e[3]=l=>m.value=l),$]},null,8,["modelValue"])]),_:1},8,["modelValue"])):i.invoice.property.payment_frequency==="weekly"?(b(),g(x,{key:1,modelValue:s.value,"onUpdate:modelValue":e[7]||(e[7]=l=>s.value=l),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:o(({props:l})=>[t(p,S({modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=y=>v.value=y),label:"Due Date (Weekly) *","prepend-inner-icon":"mdi-calendar",readonly:"",variant:"outlined",density:"comfortable"},l,{"error-messages":r(a).errors.due_date,hint:"Select specific date","persistent-hint":""}),null,16,["modelValue","error-messages"])]),default:o(()=>[t(D,{modelValue:m.value,"onUpdate:modelValue":[e[6]||(e[6]=l=>m.value=l),$]},null,8,["modelValue"])]),_:1},8,["modelValue"])):i.invoice.property.payment_frequency==="monthly"?(b(),g(x,{key:2,modelValue:s.value,"onUpdate:modelValue":e[10]||(e[10]=l=>s.value=l),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:o(({props:l})=>[t(p,S({modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=y=>v.value=y),label:"Due Date (Monthly - 1st of month) *","prepend-inner-icon":"mdi-calendar-month",readonly:"",variant:"outlined",density:"comfortable"},l,{"error-messages":r(a).errors.due_date,hint:"Automatically set to 1st of selected month","persistent-hint":""}),null,16,["modelValue","error-messages"])]),default:o(()=>[t(D,{modelValue:m.value,"onUpdate:modelValue":[e[9]||(e[9]=l=>m.value=l),C]},null,8,["modelValue"])]),_:1},8,["modelValue"])):i.invoice.property.payment_frequency==="yearly"?(b(),g(x,{key:3,modelValue:s.value,"onUpdate:modelValue":e[13]||(e[13]=l=>s.value=l),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:o(({props:l})=>[t(p,S({modelValue:v.value,"onUpdate:modelValue":e[11]||(e[11]=y=>v.value=y),label:"Due Date (Yearly - Jan 1st) *","prepend-inner-icon":"mdi-calendar-blank",readonly:"",variant:"outlined",density:"comfortable"},l,{"error-messages":r(a).errors.due_date,hint:"Automatically set to January 1st of selected year","persistent-hint":""}),null,16,["modelValue","error-messages"])]),default:o(()=>[t(D,{modelValue:m.value,"onUpdate:modelValue":[e[12]||(e[12]=l=>m.value=l),F]},null,8,["modelValue"])]),_:1},8,["modelValue"])):(b(),g(p,{key:4,modelValue:r(a).due_date,"onUpdate:modelValue":e[14]||(e[14]=l=>r(a).due_date=l),label:"Due Date *",type:"date",variant:"outlined",density:"comfortable","error-messages":r(a).errors.due_date},null,8,["modelValue","error-messages"]))]),_:1}),t(u,{cols:"12"},{default:o(()=>[t(Y,{modelValue:r(a).description,"onUpdate:modelValue":e[15]||(e[15]=l=>r(a).description=l),label:"Description",variant:"outlined",density:"comfortable",rows:"3","error-messages":r(a).errors.description},null,8,["modelValue","error-messages"])]),_:1}),t(u,{cols:"12"},{default:o(()=>[t(q,{variant:"outlined",color:"grey-lighten-4"},{default:o(()=>[t(_,{class:"text-subtitle-1"},{default:o(()=>[...e[19]||(e[19]=[k(" Property Information ",-1)])]),_:1}),t(N,null,{default:o(()=>[t(U,null,{default:o(()=>[t(u,{cols:"12",md:"4"},{default:o(()=>[e[20]||(e[20]=V("div",{class:"text-caption text-grey"},"Address",-1)),V("div",T,w(i.invoice.property.address),1)]),_:1}),t(u,{cols:"12",md:"4"},{default:o(()=>[e[21]||(e[21]=V("div",{class:"text-caption text-grey"},"Property Type",-1)),V("div",j,w(i.invoice.property.property_type),1)]),_:1}),t(u,{cols:"12",md:"4"},{default:o(()=>[e[22]||(e[22]=V("div",{class:"text-caption text-grey"},"Default Amount",-1)),V("div",W,w(M(i.invoice.property.amount)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(u,{cols:"12"},{default:o(()=>[t(f,{type:"submit",color:"primary",size:"large",loading:r(a).processing,disabled:r(a).processing},{default:o(()=>[...e[23]||(e[23]=[k(" Update Invoice ",-1)])]),_:1},8,["loading","disabled"]),t(f,{variant:"text",size:"large",class:"ml-2",onClick:e[16]||(e[16]=l=>n.$inertia.visit(n.route("admin.invoices.index")))},{default:o(()=>[...e[24]||(e[24]=[k(" Cancel ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Q as default};
