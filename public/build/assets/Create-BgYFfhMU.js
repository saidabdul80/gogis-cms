import{d as D,u as F,r as C,a as s,c as b,o as f,w as l,b as e,e as y,f as a,l as k,i as n,g as L,k as M,h as T}from"./app-BZ-g5Kzm.js";import{A as E}from"./AdminLayout-HZzqcoCE.js";import{R as j}from"./RichTextEditor-gEglxFnD.js";import"./useTheme-BxRy3jmC.js";const q={key:0,class:"mb-3"},z={class:"d-flex justify-end ga-2"},Q=D({__name:"Create",setup(O){const o=F({title:"",content:"",cover_image:null,published_at:null,post_to_social_media:!1}),c=C(null),v=C(!1),N=u=>{const i=u.target.files?.[0];if(i){o.cover_image=i;const d=new FileReader;d.onload=m=>{c.value=m.target?.result},d.readAsDataURL(i)}},A=()=>{o.cover_image=null,c.value=null},S=u=>{u?o.published_at=new Date().toISOString().slice(0,16):o.published_at=null},U=()=>{o.post(route("admin.news.store"),{preserveScroll:!0,forceFormData:!0})};return(u,t)=>{const i=s("v-btn"),d=s("v-icon"),m=s("v-card-title"),w=s("v-text-field"),g=s("v-col"),h=s("v-img"),I=s("v-file-input"),_=s("v-card-text"),p=s("v-card"),V=s("v-switch"),x=s("v-row"),P=s("v-divider"),R=s("v-form"),B=s("v-container");return f(),b(E,{title:"Create News Article"},{default:l(()=>[e(B,{fluid:""},{default:l(()=>[e(x,null,{default:l(()=>[e(g,{cols:"12"},{default:l(()=>[e(p,null,{default:l(()=>[e(m,{class:"d-flex align-center"},{default:l(()=>[e(a(k),{href:u.route("admin.news.index")},{default:l(()=>[e(i,{icon:"mdi-arrow-left",variant:"text",class:"mr-2"})]),_:1},8,["href"]),e(d,{class:"mr-2"},{default:l(()=>[...t[5]||(t[5]=[n("mdi-newspaper-plus",-1)])]),_:1}),t[6]||(t[6]=y("span",null,"Create News Article",-1))]),_:1}),e(_,null,{default:l(()=>[e(R,{onSubmit:L(U,["prevent"])},{default:l(()=>[e(x,null,{default:l(()=>[e(g,{cols:"12",md:"8"},{default:l(()=>[e(w,{modelValue:a(o).title,"onUpdate:modelValue":t[0]||(t[0]=r=>a(o).title=r),label:"Title","error-messages":a(o).errors.title,variant:"outlined",required:""},null,8,["modelValue","error-messages"]),e(j,{modelValue:a(o).content,"onUpdate:modelValue":t[1]||(t[1]=r=>a(o).content=r),label:"Content","error-messages":a(o).errors.content,class:"mb-4"},null,8,["modelValue","error-messages"])]),_:1}),e(g,{cols:"12",md:"4"},{default:l(()=>[e(p,{variant:"outlined",class:"mb-4"},{default:l(()=>[e(m,{class:"text-subtitle-1"},{default:l(()=>[e(d,{class:"mr-2"},{default:l(()=>[...t[7]||(t[7]=[n("mdi-image",-1)])]),_:1}),t[8]||(t[8]=n(" Cover Image ",-1))]),_:1}),e(_,null,{default:l(()=>[c.value?(f(),M("div",q,[e(h,{src:c.value,height:"200",cover:"",class:"rounded"},null,8,["src"]),e(i,{color:"error",size:"small",class:"mt-2",onClick:A},{default:l(()=>[...t[9]||(t[9]=[n(" Remove Image ",-1)])]),_:1})])):(f(),b(I,{key:1,label:"Upload Cover Image",accept:"image/*","prepend-icon":"mdi-camera",variant:"outlined",density:"compact","error-messages":a(o).errors.cover_image,onChange:N},null,8,["error-messages"]))]),_:1})]),_:1}),e(p,{variant:"outlined",class:"mb-4"},{default:l(()=>[e(m,{class:"text-subtitle-1"},{default:l(()=>[e(d,{class:"mr-2"},{default:l(()=>[...t[10]||(t[10]=[n("mdi-calendar",-1)])]),_:1}),t[11]||(t[11]=n(" Publishing ",-1))]),_:1}),e(_,null,{default:l(()=>[e(V,{modelValue:v.value,"onUpdate:modelValue":[t[2]||(t[2]=r=>v.value=r),S],label:"Publish Now",color:"primary","hide-details":""},null,8,["modelValue"]),v.value?T("",!0):(f(),b(w,{key:0,modelValue:a(o).published_at,"onUpdate:modelValue":t[3]||(t[3]=r=>a(o).published_at=r),label:"Schedule Publication",type:"datetime-local",variant:"outlined",density:"compact","error-messages":a(o).errors.published_at,class:"mt-3",hint:"Leave empty to save as draft","persistent-hint":""},null,8,["modelValue","error-messages"]))]),_:1})]),_:1}),e(p,{variant:"outlined"},{default:l(()=>[e(m,{class:"text-subtitle-1"},{default:l(()=>[e(d,{class:"mr-2"},{default:l(()=>[...t[12]||(t[12]=[n("mdi-share-variant",-1)])]),_:1}),t[13]||(t[13]=n(" Social Media ",-1))]),_:1}),e(_,null,{default:l(()=>[e(V,{modelValue:a(o).post_to_social_media,"onUpdate:modelValue":t[4]||(t[4]=r=>a(o).post_to_social_media=r),label:"Post to Social Media",color:"primary","hide-details":"",hint:"Automatically post to configured social media platforms","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(P,{class:"my-4"}),y("div",z,[e(a(k),{href:u.route("admin.news.index")},{default:l(()=>[e(i,{variant:"text"},{default:l(()=>[...t[14]||(t[14]=[n("Cancel",-1)])]),_:1})]),_:1},8,["href"]),e(i,{type:"submit",color:"primary",loading:a(o).processing,"prepend-icon":"mdi-content-save"},{default:l(()=>[...t[15]||(t[15]=[n(" Create Article ",-1)])]),_:1},8,["loading"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Q as default};
