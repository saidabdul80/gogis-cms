import{d as $,q as A,a as f,k as h,o as g,b as e,f as w,s as W,w as t,e as l,t as o,i as a,F as C,m as P,c as T,_ as V}from"./app-BZ-g5Kzm.js";import{A as M}from"./AdminLayout-HZzqcoCE.js";import{C as Z,p as q,a as H,b as U,B as j,c as J,L as K,A as Q,P as X,e as Y,f as tt,D as et,d as st}from"./index-BvCFZcUg.js";import"./useTheme-BxRy3jmC.js";const lt={class:"text-h4 font-weight-bold"},at={class:"text-white"},ot={class:"text-h4 font-weight-bold"},nt={class:"text-caption mt-2"},it={class:"text-white"},dt={class:"text-h4 font-weight-bold"},rt={style:{color:"#000"}},ut={class:"text-h4 font-weight-bold"},ct={class:"text-caption mt-2"},mt={class:"text-white"},ft={class:"text-h4 font-weight-bold"},pt={class:"d-flex align-center"},vt={class:"text-h6 font-weight-bold"},_t={class:"d-flex align-center"},yt={class:"text-h6 font-weight-bold"},gt={class:"d-flex align-center"},bt={class:"text-h6 font-weight-bold"},xt={class:"d-flex align-center"},ht={class:"text-h6 font-weight-bold"},wt={class:"text-center"},Ct={class:"text-h5 font-weight-bold text-primary"},kt={class:"text-center"},It={class:"text-h5 font-weight-bold text-success"},Rt={class:"text-center"},At={class:"text-h5 font-weight-bold text-warning"},Pt={style:{height:"300px"}},Tt={style:{height:"300px"}},St={style:{height:"300px"}},zt={class:"text-right"},Dt={class:"font-weight-bold"},Nt={class:"text-right"},Bt={class:"font-weight-bold"},Lt=$({__name:"Dashboard",props:{analytics:{}},setup(d){Z.register(q,H,U,j,J,K,Q,X,Y);const b=d,y=n=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2}).format(n),p=n=>new Intl.NumberFormat("en-NG").format(n),D=A(()=>({labels:b.analytics.charts.monthlyRevenue.map(n=>n.month),datasets:[{label:"Revenue",data:b.analytics.charts.monthlyRevenue.map(n=>n.total),backgroundColor:"#1c6434",borderColor:"#1c6434",borderWidth:2,tension:.4}]})),N={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:n=>"Revenue: "+y(n.parsed.y)}}},scales:{y:{beginAtZero:!0,ticks:{callback:n=>"â‚¦"+p(n)}}}},B=A(()=>({labels:b.analytics.charts.paymentStatusDistribution.map(n=>n.status),datasets:[{data:b.analytics.charts.paymentStatusDistribution.map(n=>n.count),backgroundColor:["#4CAF50","#FFC107","#F44336"],borderWidth:0}]})),L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},F=A(()=>({labels:b.analytics.charts.propertiesByType.map(n=>n.type),datasets:[{label:"Properties",data:b.analytics.charts.propertiesByType.map(n=>n.count),backgroundColor:"#fecd07",borderColor:"#c39913",borderWidth:1}]})),E={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return(n,s)=>{const r=f("v-col"),v=f("v-row"),u=f("v-icon"),c=f("v-card-text"),m=f("v-card"),_=f("v-card-title"),x=f("v-chip"),k=f("v-list-item-title"),I=f("v-list-item"),R=f("v-list"),S=f("v-list-item-subtitle"),O=f("v-data-table"),G=f("v-container");return g(),h(C,null,[e(w(W),{title:"Admin Dashboard"}),e(M,null,{default:t(()=>[e(G,{fluid:""},{default:t(()=>[e(v,{class:"mb-4"},{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[l("h1",lt,"Welcome back, "+o(n.$page.props.auth.user?.first_name)+"!",1),s[0]||(s[0]=l("p",{class:"text-subtitle-1 text-grey"},"Here's what's happening with your property management system",-1))]),_:1})]),_:1}),e(v,{class:"mb-6"},{default:t(()=>[e(r,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(m,{color:n.$page.props.appSettings.primaryColor,class:"stat-card"},{default:t(()=>[e(c,null,{default:t(()=>[l("div",at,[e(u,{size:"40",class:"mb-2"},{default:t(()=>[...s[1]||(s[1]=[a("mdi-account-group",-1)])]),_:1}),l("div",ot,o(p(d.analytics.overview.totalCustomers)),1),s[2]||(s[2]=l("div",{class:"text-body-1"},"Total Customers",-1)),l("div",nt,o(p(d.analytics.overview.totalIndividualCustomers))+" Individual | "+o(p(d.analytics.overview.totalCorporateCustomers))+" Corporate ",1)])]),_:1})]),_:1},8,["color"])]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(m,{color:"info",class:"stat-card"},{default:t(()=>[e(c,null,{default:t(()=>[l("div",it,[e(u,{size:"40",class:"mb-2"},{default:t(()=>[...s[3]||(s[3]=[a("mdi-home-city",-1)])]),_:1}),l("div",dt,o(p(d.analytics.overview.totalProperties)),1),s[4]||(s[4]=l("div",{class:"text-body-1"},"Total Properties",-1))])]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(m,{color:n.$page.props.appSettings.secondaryColor,class:"stat-card"},{default:t(()=>[e(c,null,{default:t(()=>[l("div",rt,[e(u,{size:"40",class:"mb-2"},{default:t(()=>[...s[5]||(s[5]=[a("mdi-file-document",-1)])]),_:1}),l("div",ut,o(p(d.analytics.overview.totalInvoices)),1),s[6]||(s[6]=l("div",{class:"text-body-1"},"Total Invoices",-1)),l("div",ct,o(p(d.analytics.overview.paidInvoices))+" Paid | "+o(p(d.analytics.overview.pendingInvoices))+" Pending ",1)])]),_:1})]),_:1},8,["color"])]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(m,{color:n.$page.props.appSettings.accentColor,class:"stat-card"},{default:t(()=>[e(c,null,{default:t(()=>[l("div",mt,[e(u,{size:"40",class:"mb-2"},{default:t(()=>[...s[7]||(s[7]=[a("mdi-cash-multiple",-1)])]),_:1}),l("div",ft,o(y(d.analytics.overview.totalRevenue)),1),s[8]||(s[8]=l("div",{class:"text-body-1"},"Total Revenue",-1))])]),_:1})]),_:1},8,["color"])]),_:1})]),_:1}),e(v,{class:"mb-6"},{default:t(()=>[e(r,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(m,{class:"stat-card-secondary"},{default:t(()=>[e(c,null,{default:t(()=>[l("div",pt,[e(u,{size:"30",color:"success",class:"mr-3"},{default:t(()=>[...s[9]||(s[9]=[a("mdi-check-circle",-1)])]),_:1}),l("div",null,[l("div",vt,o(p(d.analytics.overview.paidInvoices)),1),s[10]||(s[10]=l("div",{class:"text-caption text-grey"},"Paid Invoices",-1))])])]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(m,{class:"stat-card-secondary"},{default:t(()=>[e(c,null,{default:t(()=>[l("div",_t,[e(u,{size:"30",color:"warning",class:"mr-3"},{default:t(()=>[...s[11]||(s[11]=[a("mdi-clock-outline",-1)])]),_:1}),l("div",null,[l("div",yt,o(p(d.analytics.overview.pendingInvoices)),1),s[12]||(s[12]=l("div",{class:"text-caption text-grey"},"Pending Invoices",-1))])])]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(m,{class:"stat-card-secondary"},{default:t(()=>[e(c,null,{default:t(()=>[l("div",gt,[e(u,{size:"30",color:"orange",class:"mr-3"},{default:t(()=>[...s[13]||(s[13]=[a("mdi-alert-circle",-1)])]),_:1}),l("div",null,[l("div",bt,o(p(d.analytics.overview.overdueInvoices)),1),s[14]||(s[14]=l("div",{class:"text-caption text-grey"},"Overdue Invoices",-1))])])]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",sm:"6",md:"3"},{default:t(()=>[e(m,{class:"stat-card-secondary"},{default:t(()=>[e(c,null,{default:t(()=>[l("div",xt,[e(u,{size:"30",color:"primary",class:"mr-3"},{default:t(()=>[...s[15]||(s[15]=[a("mdi-percent",-1)])]),_:1}),l("div",null,[l("div",ht,o(d.analytics.revenue.collectionRate)+"%",1),s[16]||(s[16]=l("div",{class:"text-caption text-grey"},"Collection Rate",-1))])])]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{class:"mb-6"},{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(m,null,{default:t(()=>[e(_,{class:"bg-primary text-white"},{default:t(()=>[e(u,{class:"mr-2"},{default:t(()=>[...s[17]||(s[17]=[a("mdi-chart-line",-1)])]),_:1}),s[18]||(s[18]=a(" Revenue Summary ",-1))]),_:1}),e(c,{class:"pa-6"},{default:t(()=>[e(v,null,{default:t(()=>[e(r,{cols:"12",md:"4"},{default:t(()=>[l("div",wt,[l("div",Ct,o(y(d.analytics.revenue.totalInvoiceAmount)),1),s[19]||(s[19]=l("div",{class:"text-body-2 text-grey"},"Total Invoice Amount",-1))])]),_:1}),e(r,{cols:"12",md:"4"},{default:t(()=>[l("div",kt,[l("div",It,o(y(d.analytics.revenue.totalPaidAmount)),1),s[20]||(s[20]=l("div",{class:"text-body-2 text-grey"},"Total Paid Amount",-1))])]),_:1}),e(r,{cols:"12",md:"4"},{default:t(()=>[l("div",Rt,[l("div",At,o(y(d.analytics.revenue.totalOutstanding)),1),s[21]||(s[21]=l("div",{class:"text-body-2 text-grey"},"Total Outstanding",-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{class:"mb-6"},{default:t(()=>[e(r,{cols:"12",md:"8"},{default:t(()=>[e(m,null,{default:t(()=>[e(_,{class:"bg-primary text-white"},{default:t(()=>[e(u,{class:"mr-2"},{default:t(()=>[...s[22]||(s[22]=[a("mdi-chart-line",-1)])]),_:1}),s[23]||(s[23]=a(" Monthly Revenue Trend (Last 12 Months) ",-1))]),_:1}),e(c,{class:"pa-4"},{default:t(()=>[l("div",Pt,[e(w(tt),{data:D.value,options:N},null,8,["data"])])]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",md:"4"},{default:t(()=>[e(m,null,{default:t(()=>[e(_,{class:"bg-primary text-white"},{default:t(()=>[e(u,{class:"mr-2"},{default:t(()=>[...s[24]||(s[24]=[a("mdi-chart-donut",-1)])]),_:1}),s[25]||(s[25]=a(" Payment Status ",-1))]),_:1}),e(c,{class:"pa-4"},{default:t(()=>[l("div",Tt,[e(w(et),{data:B.value,options:L},null,8,["data"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{class:"mb-6"},{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(m,null,{default:t(()=>[e(_,{class:"bg-secondary"},{default:t(()=>[e(u,{class:"mr-2"},{default:t(()=>[...s[26]||(s[26]=[a("mdi-home-group",-1)])]),_:1}),s[27]||(s[27]=a(" Properties by Type ",-1))]),_:1}),e(c,{class:"pa-4"},{default:t(()=>[l("div",St,[e(w(st),{data:F.value,options:E},null,8,["data"])])]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(m,null,{default:t(()=>[e(_,{class:"bg-secondary"},{default:t(()=>[e(u,{class:"mr-2"},{default:t(()=>[...s[28]||(s[28]=[a("mdi-map-marker-multiple",-1)])]),_:1}),s[29]||(s[29]=a(" Properties by LGA (Top 10) ",-1))]),_:1}),e(c,{class:"pa-4"},{default:t(()=>[e(R,{density:"compact"},{default:t(()=>[(g(!0),h(C,null,P(d.analytics.charts.propertiesByLga,(i,z)=>(g(),T(I,{key:z,class:"mb-2"},{prepend:t(()=>[e(x,{size:"small",color:"primary",class:"mr-2"},{default:t(()=>[a(o(z+1),1)]),_:2},1024)]),append:t(()=>[e(x,{size:"small",color:"accent"},{default:t(()=>[a(o(i.count)+" properties",1)]),_:2},1024)]),default:t(()=>[e(k,null,{default:t(()=>[a(o(i.lga),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(m,null,{default:t(()=>[e(_,{class:"bg-info text-white"},{default:t(()=>[e(u,{class:"mr-2"},{default:t(()=>[...s[30]||(s[30]=[a("mdi-file-document-multiple",-1)])]),_:1}),s[31]||(s[31]=a(" Recent Invoices ",-1))]),_:1}),e(c,{class:"pa-0"},{default:t(()=>[e(R,{density:"compact"},{default:t(()=>[(g(!0),h(C,null,P(d.analytics.recent.invoices,i=>(g(),T(I,{key:i.id,to:`/admin/invoices/${i.id}`},{append:t(()=>[l("div",zt,[l("div",Dt,o(y(i.amount)),1),e(x,{size:"x-small",color:i.payment_status==="PAID"?"success":i.payment_status==="PARTIAL"?"warning":"error"},{default:t(()=>[a(o(i.payment_status),1)]),_:2},1032,["color"])])]),default:t(()=>[e(k,{class:"font-weight-medium"},{default:t(()=>[a(o(i.invoice_number),1)]),_:2},1024),e(S,null,{default:t(()=>[a(o(i.customer_name)+" - "+o(i.property),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(m,null,{default:t(()=>[e(_,{class:"bg-success text-white"},{default:t(()=>[e(u,{class:"mr-2"},{default:t(()=>[...s[32]||(s[32]=[a("mdi-cash-check",-1)])]),_:1}),s[33]||(s[33]=a(" Recent Payments ",-1))]),_:1}),e(c,{class:"pa-0"},{default:t(()=>[e(R,{density:"compact"},{default:t(()=>[(g(!0),h(C,null,P(d.analytics.recent.payments,i=>(g(),T(I,{key:i.id},{append:t(()=>[l("div",Nt,[l("div",Bt,o(y(i.amount)),1),e(x,{size:"x-small",color:i.status==="SUCCESS"?"success":i.status==="PENDING"?"warning":"error"},{default:t(()=>[a(o(i.status),1)]),_:2},1032,["color"])])]),default:t(()=>[e(k,{class:"font-weight-medium"},{default:t(()=>[a(o(i.reference),1)]),_:2},1024),e(S,null,{default:t(()=>[a(o(i.customer_name)+" - "+o(i.invoice_number),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{class:"mt-6"},{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(m,null,{default:t(()=>[e(_,{class:"bg-accent text-white"},{default:t(()=>[e(u,{class:"mr-2"},{default:t(()=>[...s[34]||(s[34]=[a("mdi-account-multiple-plus",-1)])]),_:1}),s[35]||(s[35]=a(" Recent Customers ",-1))]),_:1}),e(c,{class:"pa-0"},{default:t(()=>[e(O,{headers:[{title:"Type",key:"type"},{title:"Name",key:"name"},{title:"Email",key:"email"},{title:"Phone",key:"phone"},{title:"Registered",key:"created_at"}],items:d.analytics.recent.customers,"items-per-page":10,density:"compact"},{"item.type":t(({item:i})=>[e(x,{size:"x-small",color:i.type==="Individual"?"primary":"secondary"},{default:t(()=>[a(o(i.type),1)]),_:2},1032,["color"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),$t=V(Lt,[["__scopeId","data-v-baaec38a"]]);export{$t as default};
