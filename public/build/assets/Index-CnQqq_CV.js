import{d as L,r as _,p as T,j as p,a,c as x,o as g,w as o,b as e,e as n,f as y,l as I,i as f,h as P,k as D,F as R,m as q,t as s,g as N}from"./app-Ckp5YMnG.js";import{A as G}from"./AdminLayout-DTcn9miB.js";import"./useTheme-B1awz47X.js";const W=L({__name:"Index",props:{customers:{},filters:{}},setup(i){const b=i,d=_(!1),m=_(null),c=_(b.filters.search||""),v=_(b.filters.category||""),S=[{title:"All",value:""},{title:"Company",value:"Company"},{title:"Hotel",value:"Hotel"},{title:"Bank",value:"Bank"},{title:"Hospital",value:"Hospital"},{title:"School",value:"School"},{title:"MDAs",value:"MDAs"},{title:"Others",value:"Others"}];T([c,v],()=>{p.get(route("admin.corporate-customers.index"),{search:c.value,category:v.value},{preserveState:!0,replace:!0})},{debounce:300});const B=r=>{m.value=r,d.value=!0},H=()=>{m.value&&p.delete(route("admin.corporate-customers.destroy",m.value.id),{onSuccess:()=>{d.value=!1,m.value=null}})};return(r,t)=>{const u=a("v-btn"),k=a("v-card-title"),U=a("v-text-field"),C=a("v-col"),$=a("v-select"),h=a("v-row"),z=a("v-table"),F=a("v-pagination"),V=a("v-card-text"),w=a("v-card"),M=a("v-container"),O=a("v-spacer"),j=a("v-card-actions"),E=a("v-dialog");return g(),x(G,null,{default:o(()=>[e(M,{fluid:""},{default:o(()=>[e(h,null,{default:o(()=>[e(C,{cols:"12"},{default:o(()=>[e(w,null,{default:o(()=>[e(k,{class:"d-flex justify-space-between align-center"},{default:o(()=>[t[6]||(t[6]=n("span",null,"Corporate Customers",-1)),e(y(I),{href:r.route("admin.corporate-customers.create")},{default:o(()=>[e(u,{color:"primary","prepend-icon":"mdi-plus"},{default:o(()=>[...t[5]||(t[5]=[f(" Add Customer ",-1)])]),_:1})]),_:1},8,["href"])]),_:1}),e(V,null,{default:o(()=>[e(h,{class:"mb-4"},{default:o(()=>[e(C,{cols:"12",md:"6"},{default:o(()=>[e(U,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),label:"Search","prepend-inner-icon":"mdi-magnify",placeholder:"Search by name, registration number, email, or phone",clearable:""},null,8,["modelValue"])]),_:1}),e(C,{cols:"12",md:"3"},{default:o(()=>[e($,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=l=>v.value=l),items:S,label:"Category"},null,8,["modelValue"])]),_:1})]),_:1}),e(z,null,{default:o(()=>[t[7]||(t[7]=n("thead",null,[n("tr",null,[n("th",null,"Name"),n("th",null,"Category"),n("th",null,"Registration Number"),n("th",null,"Phone"),n("th",null,"Email"),n("th",null,"Actions")])],-1)),n("tbody",null,[(g(!0),D(R,null,q(i.customers.data,l=>(g(),D("tr",{key:l.id},[n("td",null,s(l.name),1),n("td",null,s(l.category||"N/A"),1),n("td",null,s(l.registration_number),1),n("td",null,s(l.phone_number||"N/A"),1),n("td",null,s(l.email||"N/A"),1),n("td",null,[e(u,{size:"small",color:"info",variant:"text",icon:"mdi-eye",href:r.route("admin.corporate-customers.show",l.id),onClick:N(A=>y(p).visit(r.route("admin.corporate-customers.show",l.id)),["prevent"])},null,8,["href","onClick"]),e(u,{size:"small",color:"primary",variant:"text",icon:"mdi-pencil",href:r.route("admin.corporate-customers.edit",l.id),onClick:N(A=>y(p).visit(r.route("admin.corporate-customers.edit",l.id)),["prevent"])},null,8,["href","onClick"]),e(u,{size:"small",color:"error",variant:"text",icon:"mdi-delete",onClick:A=>B(l)},null,8,["onClick"])])]))),128))])]),_:1}),i.customers.last_page>1?(g(),x(F,{key:0,length:i.customers.last_page,"model-value":i.customers.current_page,"onUpdate:modelValue":t[2]||(t[2]=l=>y(p).visit(r.route("admin.corporate-customers.index",{page:l,search:c.value,category:v.value}))),class:"mt-4"},null,8,["length","model-value"])):P("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(E,{modelValue:d.value,"onUpdate:modelValue":t[4]||(t[4]=l=>d.value=l),"max-width":"500"},{default:o(()=>[e(w,null,{default:o(()=>[e(k,null,{default:o(()=>[...t[8]||(t[8]=[f("Confirm Delete",-1)])]),_:1}),e(V,null,{default:o(()=>[f(" Are you sure you want to delete "+s(m.value?.name)+"? ",1)]),_:1}),e(j,null,{default:o(()=>[e(O),e(u,{onClick:t[3]||(t[3]=l=>d.value=!1)},{default:o(()=>[...t[9]||(t[9]=[f("Cancel",-1)])]),_:1}),e(u,{color:"error",onClick:H},{default:o(()=>[...t[10]||(t[10]=[f("Delete",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{W as default};
