import{d as g,r as c,a,c as A,o as G,w as o,b as e,i as s,g as M,f as P,j as f}from"./app-bBs94G71.js";import{A as $}from"./AdminLayout-BMPb80RT.js";import{_ as L}from"./CustomerSelector.vue_vue_type_script_setup_true_lang-ITiX_I9B.js";import"./useTheme-MWiSva7M.js";const O=g({__name:"Edit",props:{property:{},propertyTypes:{}},setup(i){const l=i,r=c({property_type_id:l.property.property_type_id||null,address:l.property.address,number_type:l.property.number_type,number_value:l.property.number_value,start_date:l.property.start_date||"",payment_frequency:l.property.payment_frequency||"",amount:l.property.amount||"",customer_id:l.property.customer_id||null,customer_type:l.property.customer_type||""}),_=c(l.property.customer?{id:l.property.customer.id,name:l.property.customer.name||`${l.property.customer.first_name} ${l.property.customer.last_name}`,type:l.property.customer_type?.includes("Individual")?"individual":"corporate",email:l.property.customer.email,phone_number:l.property.customer.phone_number,customer_id:l.property.customer.id,customer_type:l.property.customer_type||""}:null),b=d=>{d?(r.value.customer_id=d.customer_id,r.value.customer_type=d.customer_type):(r.value.customer_id=null,r.value.customer_type="")},V=["GSL","GM_Number"],q=[{title:"Daily",value:"daily"},{title:"Weekly",value:"weekly"},{title:"Monthly",value:"monthly"},{title:"Yearly",value:"yearly"}],x=()=>{f.put(route("admin.properties.update",l.property.id),r.value)};return(d,t)=>{const C=a("v-card-title"),n=a("v-col"),p=a("v-select"),m=a("v-text-field"),U=a("v-textarea"),y=a("v-row"),v=a("v-btn"),w=a("v-card-actions"),T=a("v-form"),k=a("v-card-text"),N=a("v-card"),S=a("v-container");return G(),A($,null,{default:o(()=>[e(S,{fluid:""},{default:o(()=>[e(y,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(N,null,{default:o(()=>[e(C,null,{default:o(()=>[...t[9]||(t[9]=[s("Edit Property",-1)])]),_:1}),e(k,null,{default:o(()=>[e(T,{onSubmit:M(x,["prevent"])},{default:o(()=>[e(y,null,{default:o(()=>[e(n,{cols:"12",md:"6"},{default:o(()=>[e(L,{modelValue:_.value,"onUpdate:modelValue":[t[0]||(t[0]=u=>_.value=u),b],label:"Select Customer *",required:!0},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(p,{modelValue:r.value.property_type_id,"onUpdate:modelValue":t[1]||(t[1]=u=>r.value.property_type_id=u),items:i.propertyTypes,"item-title":"name","item-value":"id",label:"Property Type *",variant:"outlined",required:""},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(p,{modelValue:r.value.number_type,"onUpdate:modelValue":t[2]||(t[2]=u=>r.value.number_type=u),items:V,label:"Number Type *",variant:"outlined",required:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(m,{modelValue:r.value.number_value,"onUpdate:modelValue":t[3]||(t[3]=u=>r.value.number_value=u),label:"Number Value *",variant:"outlined",required:"",hint:"e.g., GSL/2024/001 or GM/2024/001"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(U,{modelValue:r.value.address,"onUpdate:modelValue":t[4]||(t[4]=u=>r.value.address=u),label:"Address *",variant:"outlined",required:"",rows:"2"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(m,{modelValue:r.value.start_date,"onUpdate:modelValue":t[5]||(t[5]=u=>r.value.start_date=u),label:"Start Date",variant:"outlined",type:"date"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(p,{modelValue:r.value.payment_frequency,"onUpdate:modelValue":t[6]||(t[6]=u=>r.value.payment_frequency=u),items:q,label:"Payment Frequency",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(m,{modelValue:r.value.amount,"onUpdate:modelValue":t[7]||(t[7]=u=>r.value.amount=u),label:"Amount (₦)",variant:"outlined",type:"number",step:"0.01",min:"0",prefix:"₦"},null,8,["modelValue"])]),_:1})]),_:1}),e(w,null,{default:o(()=>[e(v,{color:"grey",onClick:t[8]||(t[8]=u=>P(f).visit(d.route("admin.properties.index")))},{default:o(()=>[...t[10]||(t[10]=[s(" Cancel ",-1)])]),_:1}),e(v,{color:"primary",type:"submit"},{default:o(()=>[...t[11]||(t[11]=[s(" Update Property ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{O as default};
